
default: perftest

CFLAGS = -g -O2

sqlite3.o: ../libstuff/sqlite3.c
	gcc $(CFLAGS) -c -Wno-unused-but-set-variable -DSQLITE_ENABLE_STAT4 -DSQLITE_ENABLE_JSON1 -DSQLITE_ENABLE_SESSION -DSQLITE_ENABLE_PREUPDATE_HOOK -DSQLITE_ENABLE_UPDATE_DELETE_LIMIT -DSQLITE_THREADSAFE=2 -DSQLITE_MAX_MMAP_SIZE=1099511627776  ../libstuff/sqlite3.c;

perftest.o: perftest.cpp
	g++ $(CFLAGS) -std=c++11 -c perftest.cpp;

perftest: sqlite3.o perftest.o
	g++ $(CFLAGS) -std=c++11 -o perftest perftest.o sqlite3.o -ldl -lpthread;

clean:
	rm -f perftest.o
	rm -f sqlite3.o
	rm -f perftest



